<div class="d-flex flex-column gap-2">
  <ul class="list-group">
    @for (item of items(); track $index) {
      <li class="list-group-item">
        <nexus-cart-item
          [item]="item"
          (displayProductDetails)="displayProductDetails($event)"
          (increaseQuantity)="increaseQuantity($event)"
          (decreaseQuantity)="decreaseQuantity($event)"
          (removeFromCart)="removeFromCart($event)"
        ></nexus-cart-item>
      </li>
    } @empty {
      <li
        class="list-group-item d-flex flex-column justify-content-between align-items-center gap-4"
      >
        <span>Aún no tienes productos en tu carrito. ¿Te animas a explorar?</span>

        <div class="p-2">
          <img src="assets/images/empty-cart.svg" class="img-fluid" alt="Carrito vacío" />
        </div>
      </li>
    }
  </ul>

  @if (items().length > 0) {
    <div class="d-flex justify-content-between align-items-center">
      <span>Subtotal:</span>
      <span class="fw-bold">{{ subTotalPrice() | currency }}</span>
    </div>

    <div class="d-flex justify-content-between align-items-center">
      <span>Descuento:</span>
      <span class="fw-bold">{{ discount() | currency }}</span>
    </div>

    <div class="d-flex justify-content-between align-items-center">
      <span>Total:</span>
      <span class="fw-bold">{{ totalPrice() | currency }}</span>
    </div>
  }
</div>
